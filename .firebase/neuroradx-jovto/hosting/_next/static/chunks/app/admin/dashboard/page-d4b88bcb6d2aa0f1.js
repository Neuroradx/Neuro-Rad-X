(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5957],{59063:(e,t,s)=>{Promise.resolve().then(s.bind(s,93079))},93079:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>$});var a=s(95155),r=s(12115),i=s(76046),n=s(48173),d=s.n(n),l=s(14565),o=s(44595),c=s(27058),u=s(65512),m=s(73312),f=s(22130),x=s(38002),h=s(14505),b=s(62455),p=s(92823),g=s(61023),v=s(13929),y=s(16233),N=s(90702),j=s(53466),w=s(8576),k=s(30098),A=s(48501),K=s(8453),R=s(66462),S=s(35288),_=s(14081),q=s(2746),C=s(63230),I=s(81476),D=s(61594),T=s(75828);let B=(0,T.createServerReference)("401e34dc0a56b4357aa6d4b543375c92d14bd48115",T.callServer,void 0,T.findSourceMapURL,"getAdminSummaryStats");var E=s(30541),F=s(20853),L=s(40767),Q=s(17548),U=s(46967),z=s(33900),P=s(34718),Z=s(2818);let V="9F8OPFBNMP",W=Z.env.ALGOLIA_ADMIN_KEY||"",M="c27141df41d2dec700bfe11cb3a82f81";V&&W&&(0,P.w)(V,W);let O=V&&M?(0,P.w)(V,M):null;function X(){let[e,t]=(0,r.useState)(""),[s,n]=(0,r.useState)([]),[d,l]=(0,r.useState)(!1),[o,c]=(0,r.useState)(!1),m=(0,i.useRouter)(),{language:x,t:b}=(0,u.B)(),p=(0,r.useRef)(null);(0,r.useEffect)(()=>{function e(e){p.current&&!p.current.contains(e.target)&&c(!1)}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[p]),(0,r.useEffect)(()=>{let t=setTimeout(async()=>{if(!e.trim()||!O){n([]),c(!1);return}l(!0),c(!0);try{let{results:t}=await O.search({requests:[{indexName:"questions",query:e,hitsPerPage:5}]}),s=t[0].hits;n(s)}catch(e){}finally{l(!1)}},300);return()=>clearTimeout(t)},[e]);let g=e=>{c(!1),t(""),m.push("/admin/edit-question?id=".concat(e))},v=e=>"es"===x?e.questionText_es||e.questionText_en:"de"===x&&e.questionText_de||e.questionText_en;return(0,a.jsxs)("div",{className:"relative w-full max-w-xl mx-auto",ref:p,children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(F.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(z.p,{type:"text",placeholder:b("common.searchPlaceholder",{defaultValue:"Search questions..."}),value:e,onChange:e=>t(e.target.value),className:"pl-10 pr-10 h-10 w-full",onFocus:()=>e.trim()&&c(!0)}),e&&(0,a.jsx)("button",{onClick:()=>t(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground",children:(0,a.jsx)(L.A,{className:"h-4 w-4"})})]}),o&&(0,a.jsx)(f.Zp,{className:"absolute z-50 w-full mt-2 shadow-2xl border-primary/20 max-h-[400px] overflow-auto",children:(0,a.jsx)(f.Wu,{className:"p-2",children:d?(0,a.jsx)("div",{className:"flex items-center justify-center p-4",children:(0,a.jsx)(h.A,{className:"h-6 w-6 animate-spin text-primary"})}):s.length>0?(0,a.jsx)("div",{className:"space-y-1",children:s.map(e=>(0,a.jsxs)("button",{onClick:()=>g(e.objectID),className:"w-full text-left p-3 hover:bg-accent rounded-md transition-colors flex items-start gap-3 group",children:[(0,a.jsx)("div",{className:"mt-1",children:(0,a.jsx)(Q.A,{className:"h-4 w-4 text-primary opacity-70"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-medium line-clamp-2 text-foreground group-hover:text-primary transition-colors",children:v(e)}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,a.jsx)("span",{className:"text-[10px] uppercase tracking-wider bg-secondary px-1.5 py-0.5 rounded text-secondary-foreground font-semibold",children:e.main_localization}),e.sub_main_location&&(0,a.jsx)("span",{className:"text-[10px] text-muted-foreground truncate",children:e.sub_main_location})]})]}),(0,a.jsx)(U.A,{className:"h-4 w-4 text-muted-foreground group-hover:translate-x-1 transition-transform"})]},e.objectID))}):e.trim()?(0,a.jsx)("div",{className:"p-4 text-center text-muted-foreground text-sm",children:b("common.noResultsFound",{defaultValue:"No questions found."})}):null})})]})}let $=()=>{let{t:e}=(0,u.B)(),t=(0,i.useRouter)(),[s,n]=(0,r.useState)(!0),[T,F]=(0,r.useState)(!1),[L,Q]=(0,r.useState)(null),[U,z]=(0,r.useState)(!1);if((0,r.useEffect)(()=>{let e=(0,l.hg)(o.j2,async e=>{if(n(!0),e)try{var s;let t=await (0,c.x7)((0,c.H9)(o.db,"users",e.uid)),a=t.exists()&&(null===(s=t.data())||void 0===s?void 0:s.role)==="admin";if(F(a),a){z(!0);let t=await B(e.uid);t.success&&Q(t.stats),z(!1)}}catch(e){F(!1)}else F(!1),t.push("/auth/login");n(!1)});return()=>e()},[t]),s)return(0,a.jsx)("div",{className:"container mx-auto py-8 flex justify-center items-center min-h-[60vh]",children:(0,a.jsx)(h.A,{className:"h-12 w-12 animate-spin text-primary"})});if(!T)return(0,a.jsxs)("div",{className:"container mx-auto py-8",children:[(0,a.jsxs)(x.Fc,{variant:"destructive",children:[(0,a.jsx)(b.A,{className:"h-4 w-4"}),(0,a.jsx)(x.XL,{children:e("admin.accessDenied.title")}),(0,a.jsx)(x.TN,{children:e("admin.accessDenied.description")})]}),(0,a.jsx)(m.$,{onClick:()=>t.push("/dashboard"),className:"mt-4",children:e("admin.accessDenied.backToDashboard")})]});let P=[{titleKey:"admin.dashboard.userManagement.title",icon:p.A,links:[{href:"/admin/pending-users",labelKey:"admin.dashboard.links.pendingUsers",icon:g.A},{href:"/admin/active-users",labelKey:"admin.dashboard.links.activeUsers",icon:p.A},{href:"/admin/search-user",labelKey:"admin.dashboard.links.searchUser",icon:v.A},{href:"/admin/users-by-subscription",labelKey:"admin.dashboard.links.usersBySubscription",icon:y.A}]},{titleKey:"admin.dashboard.contentAndIssues.title",icon:N.A,links:[{href:"/admin/reported-questions",labelKey:"admin.dashboard.links.reportedQuestions",icon:N.A},{href:"/admin/review-questions",labelKey:"admin.dashboard.links.reviewQuestions",icon:j.A},{href:"/admin/reviewed-report",labelKey:"admin.dashboard.links.reviewedReport",icon:w.A},{href:"/admin/enrich-questions",labelKey:"admin.dashboard.links.enrichQuestions",icon:k.A},{href:"/admin/edit-question",labelKey:"admin.dashboard.links.editQuestion",icon:A.A}]},{titleKey:"admin.dashboard.tools.title",icon:K.A,links:[{href:"/admin/nascet-score",labelKey:"admin.dashboard.links.nascetScore",icon:K.A}]},{titleKey:"admin.dashboard.communication.title",icon:R.A,links:[{href:"/admin/sent-notifications",labelKey:"admin.dashboard.links.seeNotifications",icon:S.A},{href:"/admin/send-notification",labelKey:"admin.dashboard.links.sendNotification",icon:R.A}]},{titleKey:"admin.dashboard.documentsAndPromotions.title",icon:_.A,links:[{href:"/admin/ecmit",labelKey:"admin.dashboard.links.ecmit",icon:q.A},{href:"/admin/evaluators",labelKey:"admin.dashboard.links.inviteEvaluators",icon:p.A}]}];return(0,a.jsxs)("div",{className:"container mx-auto py-8",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,a.jsx)(C.A,{className:"h-8 w-8 text-primary"}),(0,a.jsx)("h1",{className:"text-3xl font-bold",children:e("admin.dashboard.title")})]}),(0,a.jsx)("p",{className:"text-muted-foreground mb-8",children:e("admin.dashboard.description")}),(0,a.jsx)("div",{className:"mb-10",children:(0,a.jsx)(X,{})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-10",children:[(0,a.jsx)(E.h,{title:e("admin.dashboard.stats.totalQuestions"),value:U?"...":(null==L?void 0:L.totalQuestions)||0,icon:I.A,className:"shadow-sm border-primary/10"}),(0,a.jsx)(E.h,{title:e("admin.dashboard.stats.pendingReview"),value:U?"...":(null==L?void 0:L.pendingQuestions)||0,icon:j.A,className:"shadow-sm border-orange-200 bg-orange-50/30 dark:bg-orange-950/10",description:e("admin.dashboard.stats.reviewedLabel",{count:((null==L?void 0:L.reviewedQuestions)||0).toString()})}),(0,a.jsx)(E.h,{title:e("admin.dashboard.stats.pendingUsers"),value:U?"...":(null==L?void 0:L.pendingUsers)||0,icon:g.A,className:"shadow-sm border-blue-200 bg-blue-50/30 dark:bg-blue-950/10"}),(0,a.jsx)(E.h,{title:e("admin.dashboard.stats.activeIssues"),value:U?"...":(null==L?void 0:L.activeReports)||0,icon:D.A,className:"shadow-sm border-red-200 bg-red-50/30 dark:bg-red-950/10"})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:P.map(t=>{let s=t.icon;return(0,a.jsxs)(f.Zp,{className:"shadow-lg",children:[(0,a.jsx)(f.aR,{children:(0,a.jsxs)(f.ZB,{className:"flex items-center gap-3",children:[(0,a.jsx)(s,{className:"h-6 w-6 text-primary"}),e(t.titleKey)]})}),(0,a.jsx)(f.Wu,{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:t.links.map(t=>{let s=t.icon;return(0,a.jsx)(m.$,{asChild:!0,variant:"outline",className:"h-auto justify-start whitespace-normal text-left",children:(0,a.jsxs)(d(),{href:t.href,children:[(0,a.jsx)(s,{className:"mr-2 h-4 w-4"}),e(t.labelKey)]})},t.href)})})]},t.titleKey)})})]})}},30541:(e,t,s)=>{"use strict";s.d(t,{h:()=>i});var a=s(95155),r=s(22130);function i(e){let{title:t,value:s,icon:i,description:n,className:d}=e;return(0,a.jsxs)(r.Zp,{className:d,children:[(0,a.jsxs)(r.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(r.ZB,{className:"text-sm font-medium",children:t}),(0,a.jsx)(i,{className:"h-5 w-5 text-muted-foreground"})]}),(0,a.jsxs)(r.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:s}),n&&(0,a.jsx)("p",{className:"text-xs text-muted-foreground pt-1",children:n})]})]})}},38002:(e,t,s)=>{"use strict";s.d(t,{Fc:()=>l,TN:()=>c,XL:()=>o});var a=s(95155),r=s(12115),i=s(40652),n=s(21567);let d=(0,i.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"bg-destructive/10 border-destructive/50 text-destructive dark:bg-destructive/20 dark:border-destructive/60 dark:text-destructive-foreground [&>svg]:text-destructive dark:[&>svg]:text-destructive-foreground"}},defaultVariants:{variant:"default"}}),l=r.forwardRef((e,t)=>{let{className:s,variant:r,...i}=e;return(0,a.jsx)("div",{ref:t,role:"alert",className:(0,n.cn)(d({variant:r}),s),...i})});l.displayName="Alert";let o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("h5",{ref:t,className:(0,n.cn)("mb-1 font-medium leading-none tracking-tight",s),...r})});o.displayName="AlertTitle";let c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("text-sm [&_p]:leading-relaxed",s),...r})});c.displayName="AlertDescription"},73312:(e,t,s)=>{"use strict";s.d(t,{$:()=>o,r:()=>l});var a=s(95155),r=s(12115),i=s(12317),n=s(40652),d=s(21567);let l=(0,n.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=r.forwardRef((e,t)=>{let{className:s,variant:r,size:n,asChild:o=!1,...c}=e,u=o?i.DX:"button";return(0,a.jsx)(u,{className:(0,d.cn)(l({variant:r,size:n,className:s})),ref:t,...c})});o.displayName="Button"},22130:(e,t,s)=>{"use strict";s.d(t,{BT:()=>o,Wu:()=>c,ZB:()=>l,Zp:()=>n,aR:()=>d,wL:()=>u});var a=s(95155),r=s(12115),i=s(21567);let n=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...r})});n.displayName="Card";let d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",s),...r})});d.displayName="CardHeader";let l=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("h3",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",s),...r})});l.displayName="CardTitle";let o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("p",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",s),...r})});o.displayName="CardDescription";let c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",s),...r})});c.displayName="CardContent";let u=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",s),...r})});u.displayName="CardFooter"},33900:(e,t,s)=>{"use strict";s.d(t,{p:()=>n});var a=s(95155),r=s(12115),i=s(21567);let n=r.forwardRef((e,t)=>{let{className:s,type:r,...n}=e;return(0,a.jsx)("input",{type:r,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...n})});n.displayName="Input"},44595:(e,t,s)=>{"use strict";s.d(t,{db:()=>l,j2:()=>o});var a=s(49904),r=s(27058),i=s(14565),n=s(80333);let d=(0,a.Wp)({apiKey:"AIzaSyDlzvjx4xI5zdfR0ng5UuVptg4agk4-GV8",authDomain:"neuroradx-jovto.firebaseapp.com",projectId:"neuroradx-jovto",storageBucket:"neuroradx-jovto.firebasestorage.app",messagingSenderId:"930640165466",appId:"1:930640165466:web:1ee43d3bcb83c2e2297663"}),l=(0,r.aU)(d),o=(0,i.xI)(d);(0,n.c7)(d)}},e=>{var t=t=>e(e.s=t);e.O(0,[2992,5273,5520,5714,2252,8173,2209,5512,8441,1517,7358],()=>t(59063)),_N_E=e.O()}]);