(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[983],{81030:(e,r,t)=>{Promise.resolve().then(t.bind(t,65127))},61594:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(67401).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},48617:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(67401).A)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},14505:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(67401).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},76046:(e,r,t)=>{"use strict";var s=t(66658);t.o(s,"useParams")&&t.d(r,{useParams:function(){return s.useParams}}),t.o(s,"usePathname")&&t.d(r,{usePathname:function(){return s.usePathname}}),t.o(s,"useRouter")&&t.d(r,{useRouter:function(){return s.useRouter}}),t.o(s,"useSearchParams")&&t.d(r,{useSearchParams:function(){return s.useSearchParams}})},75828:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(e,r){for(var t in r)Object.defineProperty(e,t,{enumerable:!0,get:r[t]})}(r,{callServer:function(){return s.callServer},createServerReference:function(){return i},findSourceMapURL:function(){return a.findSourceMapURL}});let s=t(89603),a=t(33355),i=t(34979).createServerReference},65127:(e,r,t)=>{"use strict";t.d(r,{RegistrationForm:()=>M});var s=t(95155),a=t(12115),i=t(69606),n=t(85060),l=t(4563),o=t(76046),c=t(14565),d=t(44595),m=t(73312),u=t(33900),h=t(22130),p=t(44870),x=t(38002),f=t(48617),j=t(61594);let g=(0,t(67401).A)("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);var y=t(14505),N=t(65564),v=t(65512),w=t(37528),F=t(84740),P=t(48173),b=t.n(P),R=t(75828);let C=(0,R.createServerReference)("408196eb61c3a929ddcf6f199135c49d7dbcb5e45a",R.callServer,void 0,R.findSourceMapURL,"syncUserProfile"),k=e=>l.Ik({firstName:l.Yj().min(1,{message:e("validation.firstNameRequired")}).min(2,{message:e("validation.firstNameMinLength")}),lastName:l.Yj().min(1,{message:e("validation.lastNameRequired")}).min(2,{message:e("validation.lastNameMinLength")}),email:l.Yj().email({message:e("validation.emailInvalid")}),password:l.Yj().min(6,{message:e("validation.passwordMinLength")}),confirmPassword:l.Yj(),country:l.Yj().optional().default(""),institution:l.Yj().optional(),coupon:l.Yj().optional()}).refine(e=>e.password===e.confirmPassword,{message:e("validation.passwordsDontMatch"),path:["confirmPassword"]});function M(){let e=(0,o.useRouter)(),r=(0,o.useSearchParams)(),{toast:t}=(0,N.dj)(),{t:l}=(0,v.B)(),[P,R]=(0,a.useState)(!1),[M,S]=(0,a.useState)(null),L=(0,i.mN)({resolver:(0,n.u)(k(l)),defaultValues:{firstName:"",lastName:"",email:"",password:"",confirmPassword:"",country:"",institution:"",coupon:""}});async function A(r){R(!0),S(null);let s="".concat(window.location.origin,"/login");try{let a=(await (0,c.eJ)(d.j2,r.email,r.password)).user;if(a){let e="".concat(r.firstName.trim()," ").concat(r.lastName.trim()).trim();await (0,c.r7)(a,{displayName:e});let t=await C({uid:a.uid,email:r.email,firstName:r.firstName.trim(),lastName:r.lastName.trim(),country:r.country,institution:r.institution});if(!t.success)throw Error(t.error||"Failed to create user profile.");await (0,c.gA)(a,{url:s,handleCodeInApp:!0})}t({title:l("toast.registrationAlmostCompleteTitle"),description:l("toast.registrationAlmostCompleteDescription"),variant:"success",duration:9e3}),e.push("/auth/login")}catch(r){let e=l("registrationForm.errorUnexpected");S(e="auth/email-already-in-use"===r.code?l("registrationForm.errorEmailInUse"):"auth/weak-password"===r.code?l("registrationForm.errorWeakPassword"):"auth/too-many-requests"===r.code?l("registrationForm.errorTooManyRequests"):r instanceof Error?r.message:l("registrationForm.errorGenericWithMessage",{message:r.message||""})),t({title:l("registrationForm.errorTitle"),description:e,variant:"destructive"})}finally{R(!1)}}return(0,a.useEffect)(()=>{let e=r.get("coupon");e&&L.setValue("coupon",e)},[r,L]),(0,s.jsxs)(h.Zp,{className:"w-full max-w-md shadow-xl",children:[(0,s.jsxs)(h.aR,{children:[(0,s.jsx)(h.ZB,{className:"text-2xl",children:l("registrationForm.title")}),(0,s.jsx)(h.BT,{children:l("registrationForm.description")})]}),(0,s.jsx)(p.lV,{...L,children:(0,s.jsxs)("form",{onSubmit:L.handleSubmit(A),children:[(0,s.jsxs)(h.Wu,{className:"space-y-4",children:[(0,s.jsxs)(x.Fc,{variant:"default",className:"border-primary/50 bg-primary/5 dark:bg-primary/10",children:[(0,s.jsx)(f.A,{className:"h-4 w-4 text-primary"}),(0,s.jsx)(x.XL,{className:"font-bold text-primary",children:l("registrationForm.trialInfoTitle")}),(0,s.jsx)(x.TN,{className:"text-foreground/90",children:l("registrationForm.trialInfoDescription")})]}),M&&(0,s.jsxs)(x.Fc,{variant:"destructive",children:[(0,s.jsx)(j.A,{className:"h-4 w-4"}),(0,s.jsx)(x.XL,{children:l("registrationForm.errorTitle")}),(0,s.jsx)(x.TN,{children:M})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsx)(p.zB,{control:L.control,name:"firstName",render:e=>{let{field:r}=e;return(0,s.jsxs)(p.eI,{children:[(0,s.jsx)(p.lR,{htmlFor:"firstName",children:l("registrationForm.firstNameLabel")}),(0,s.jsx)(p.MJ,{children:(0,s.jsx)(u.p,{id:"firstName",placeholder:l("registrationForm.firstNamePlaceholder"),...r})}),(0,s.jsx)(p.C5,{})]})}}),(0,s.jsx)(p.zB,{control:L.control,name:"lastName",render:e=>{let{field:r}=e;return(0,s.jsxs)(p.eI,{children:[(0,s.jsx)(p.lR,{htmlFor:"lastName",children:l("registrationForm.lastNameLabel")}),(0,s.jsx)(p.MJ,{children:(0,s.jsx)(u.p,{id:"lastName",placeholder:l("registrationForm.lastNamePlaceholder"),...r})}),(0,s.jsx)(p.C5,{})]})}})]}),(0,s.jsx)(p.zB,{control:L.control,name:"email",render:e=>{let{field:r}=e;return(0,s.jsxs)(p.eI,{children:[(0,s.jsx)(p.lR,{htmlFor:"email",children:l("registrationForm.emailLabel")}),(0,s.jsx)(p.MJ,{children:(0,s.jsx)(u.p,{id:"email",type:"email",placeholder:l("registrationForm.emailPlaceholder"),...r})}),(0,s.jsx)(p.C5,{})]})}}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsx)(p.zB,{control:L.control,name:"password",render:e=>{let{field:r}=e;return(0,s.jsxs)(p.eI,{children:[(0,s.jsx)(p.lR,{htmlFor:"password",children:l("registrationForm.passwordLabel")}),(0,s.jsx)(p.MJ,{children:(0,s.jsx)(u.p,{id:"password",type:"password",placeholder:l("registrationForm.passwordPlaceholder"),...r})}),(0,s.jsx)(p.C5,{})]})}}),(0,s.jsx)(p.zB,{control:L.control,name:"confirmPassword",render:e=>{let{field:r}=e;return(0,s.jsxs)(p.eI,{children:[(0,s.jsx)(p.lR,{htmlFor:"confirmPassword",children:l("registrationForm.confirmPasswordLabel")}),(0,s.jsx)(p.MJ,{children:(0,s.jsx)(u.p,{id:"confirmPassword",type:"password",placeholder:l("registrationForm.confirmPasswordPlaceholder"),...r})}),(0,s.jsx)(p.C5,{})]})}})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsx)(p.zB,{control:L.control,name:"country",render:e=>{let{field:r}=e;return(0,s.jsxs)(p.eI,{children:[(0,s.jsx)(p.lR,{htmlFor:"country-register-select",children:l("settingsPage.countryLabel")}),(0,s.jsxs)(w.l6,{onValueChange:r.onChange,defaultValue:r.value,children:[(0,s.jsx)(p.MJ,{children:(0,s.jsx)(w.bq,{id:"country-register-select",children:(0,s.jsx)(w.yv,{placeholder:l("settingsPage.countrySelectPlaceholder")})})}),(0,s.jsx)(w.gC,{children:F.Y.map(e=>(0,s.jsxs)(a.Fragment,{children:[(0,s.jsx)(w.eb,{value:e.name,children:e.name}),"Spain"===e.name&&(0,s.jsx)(w.mi,{})]},e.code))})]}),(0,s.jsx)(p.C5,{})]})}}),(0,s.jsx)(p.zB,{control:L.control,name:"institution",render:e=>{let{field:r}=e;return(0,s.jsxs)(p.eI,{children:[(0,s.jsx)(p.lR,{htmlFor:"institution",children:l("settingsPage.institutionLabel")}),(0,s.jsx)(p.MJ,{children:(0,s.jsx)(u.p,{id:"institution",placeholder:l("settingsPage.institutionPlaceholder"),...r})}),(0,s.jsx)(p.C5,{})]})}})]}),(0,s.jsx)(p.zB,{control:L.control,name:"coupon",render:e=>{let{field:r}=e;return(0,s.jsxs)(p.eI,{children:[(0,s.jsx)(p.lR,{htmlFor:"coupon",children:l("registrationForm.couponLabel")}),(0,s.jsx)(p.MJ,{children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(g,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,s.jsx)(u.p,{id:"coupon",placeholder:l("registrationForm.couponPlaceholder"),...r,className:"pl-9"})]})}),(0,s.jsx)(p.C5,{})]})}})]}),(0,s.jsxs)(h.wL,{className:"flex flex-col gap-4",children:[(0,s.jsxs)(m.$,{type:"submit",className:"w-full",disabled:P,children:[P&&(0,s.jsx)(y.A,{className:"mr-2 h-4 w-4 animate-spin"}),l("registrationForm.submitButton")]}),(0,s.jsxs)("p",{className:"px-8 text-center text-xs text-muted-foreground",children:[l("registrationForm.agreeTo")," ",(0,s.jsx)(b(),{href:"/terms-of-use",className:"underline underline-offset-4 hover:text-primary",children:l("registrationForm.termsOfUse")}),l("registrationForm.andPrivacyPolicy")," ",(0,s.jsx)(b(),{href:"/privacy-policy",className:"underline underline-offset-4 hover:text-primary",children:l("registrationForm.privacyPolicy")}),"."]}),(0,s.jsx)(m.$,{variant:"link",size:"sm",className:"text-sm",onClick:()=>e.push("/auth/login"),type:"button",children:l("registrationForm.loginLink")})]})]})})]})}},88068:(e,r,t)=>{"use strict";t.d(r,{s:()=>i,t:()=>a});var s=t(12115);function a(...e){return r=>e.forEach(e=>{"function"==typeof e?e(r):null!=e&&(e.current=r)})}function i(...e){return s.useCallback(a(...e),e)}},12317:(e,r,t)=>{"use strict";t.d(r,{DX:()=>n,xV:()=>o});var s=t(12115),a=t(88068),i=t(95155),n=s.forwardRef((e,r)=>{let{children:t,...a}=e,n=s.Children.toArray(t),o=n.find(c);if(o){let e=o.props.children,t=n.map(r=>r!==o?r:s.Children.count(e)>1?s.Children.only(null):s.isValidElement(e)?e.props.children:null);return(0,i.jsx)(l,{...a,ref:r,children:s.isValidElement(e)?s.cloneElement(e,void 0,t):null})}return(0,i.jsx)(l,{...a,ref:r,children:t})});n.displayName="Slot";var l=s.forwardRef((e,r)=>{let{children:t,...i}=e;if(s.isValidElement(t)){let e=function(e){let r=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,t=r&&"isReactWarning"in r&&r.isReactWarning;return t?e.ref:(t=(r=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in r&&r.isReactWarning)?e.props.ref:e.props.ref||e.ref}(t);return s.cloneElement(t,{...function(e,r){let t={...r};for(let s in r){let a=e[s],i=r[s];/^on[A-Z]/.test(s)?a&&i?t[s]=(...e)=>{i(...e),a(...e)}:a&&(t[s]=a):"style"===s?t[s]={...a,...i}:"className"===s&&(t[s]=[a,i].filter(Boolean).join(" "))}return{...e,...t}}(i,t.props),ref:r?(0,a.t)(r,e):e})}return s.Children.count(t)>1?s.Children.only(null):null});l.displayName="SlotClone";var o=({children:e})=>(0,i.jsx)(i.Fragment,{children:e});function c(e){return s.isValidElement(e)&&e.type===o}}},e=>{var r=r=>e(e.s=r);e.O(0,[2992,5273,5520,5714,2252,8173,4285,2950,6308,3480,5512,5297,8441,1517,7358],()=>r(81030)),_N_E=e.O()}]);