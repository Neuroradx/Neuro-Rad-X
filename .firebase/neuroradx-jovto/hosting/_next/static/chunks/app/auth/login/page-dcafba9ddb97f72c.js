(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4859],{45574:(e,t,r)=>{Promise.resolve().then(r.bind(r,7536))},7536:(e,t,r)=>{"use strict";r.d(t,{LoginForm:()=>F});var s=r(95155),a=r(12115),o=r(69606),i=r(85060),n=r(4563),d=r(76046),l=r(48173),c=r.n(l),u=r(14565),f=r(44595),m=r(27058),p=r(73312),g=r(33900),x=r(22130),v=r(44870),h=r(38002),b=r(61594),y=r(14505),w=r(65564),N=r(65512),j=r(75828);let S=(0,j.createServerReference)("60b7c2779464d9aafd4aac91a1f8f1f84b50c94799",j.callServer,void 0,j.findSourceMapURL,"fetchUserNotifications");var R=r(82133);let I=e=>n.Ik({email:n.Yj().email({message:e("validation.emailInvalid")}),password:n.Yj().min(1,{message:e("validation.passwordRequired")})});function F(){let e=(0,d.useRouter)(),{toast:t}=(0,w.dj)(),{t:r}=(0,N.B)(),[n,l]=(0,a.useState)(!1),[j,F]=(0,a.useState)(null),T=(0,a.useMemo)(()=>I(r),[r]),k=(0,o.mN)({resolver:(0,i.u)(T),defaultValues:{email:"",password:""}});async function A(a){l(!0),F(null);try{let o=(await (0,u.x9)(f.j2,a.email,a.password)).user;if(o){let a=(0,m.H9)(f.db,"users",o.uid),i=await (0,m.x7)(a);if(!i.exists()){F(r("auth.accountSetupIncompleteDescription")),t({title:r("auth.accountSetupIncompleteTitle"),description:r("auth.accountSetupIncompleteDescription"),variant:"destructive"}),await f.j2.signOut(),l(!1);return}let n=i.data();if("pending"===n.status){e.push("/pending-approval");return}if("approved"!==n.status){F(r("auth.accountStatusError")),await f.j2.signOut(),l(!1);return}let d=(null==n?void 0:n.role)==="admin";t({title:r("toast.loginSuccessTitle"),description:r("toast.loginSuccessDescription")});let c=await S(o.uid);c.success&&c.notifications&&c.notifications.some(e=>"unread"===e.status)&&t({title:r("toast.newNotificationsTitle"),description:r("toast.newNotificationsDescription"),action:(0,s.jsx)(R.Qg,{altText:r("toast.newNotificationsAction"),onClick:()=>e.push("/settings"),children:r("toast.newNotificationsAction")}),duration:8e3}),e.push(d?"/admin/dashboard":"/dashboard")}else throw Error("Login succeeded but user object is null.")}catch(t){let e=r("loginForm.errorUnexpected");("auth/user-not-found"===t.code||"auth/wrong-password"===t.code||"auth/invalid-credential"===t.code)&&(e=r("loginForm.errorInvalidCredentials")),F(e)}finally{l(!1)}}return(0,s.jsxs)(x.Zp,{className:"w-full max-w-md shadow-xl",children:[(0,s.jsxs)(x.aR,{children:[(0,s.jsx)(x.ZB,{className:"text-2xl",children:r("loginForm.title")}),(0,s.jsx)(x.BT,{children:r("loginForm.description")})]}),(0,s.jsx)(v.lV,{...k,children:(0,s.jsxs)("form",{onSubmit:k.handleSubmit(A),children:[(0,s.jsxs)(x.Wu,{className:"space-y-4",children:[j&&(0,s.jsxs)(h.Fc,{variant:"destructive",children:[(0,s.jsx)(b.A,{className:"h-4 w-4"}),(0,s.jsx)(h.XL,{children:r("loginForm.errorTitle")}),(0,s.jsx)(h.TN,{children:j})]}),(0,s.jsx)(v.zB,{control:k.control,name:"email",render:e=>{let{field:t}=e;return(0,s.jsxs)(v.eI,{children:[(0,s.jsx)(v.lR,{htmlFor:"email-login",children:r("loginForm.emailLabel")}),(0,s.jsx)(v.MJ,{children:(0,s.jsx)(g.p,{id:"email-login",type:"email",placeholder:r("loginForm.emailPlaceholder"),...t})}),(0,s.jsx)(v.C5,{})]})}}),(0,s.jsx)(v.zB,{control:k.control,name:"password",render:e=>{let{field:t}=e;return(0,s.jsxs)(v.eI,{children:[(0,s.jsx)(v.lR,{htmlFor:"password-login",children:r("loginForm.passwordLabel")}),(0,s.jsx)(v.MJ,{children:(0,s.jsx)(g.p,{id:"password-login",type:"password",placeholder:r("loginForm.passwordPlaceholder"),...t})}),(0,s.jsx)(v.C5,{})]})}}),(0,s.jsx)("div",{className:"text-right",children:(0,s.jsx)(p.$,{variant:"link",size:"sm",className:"text-xs text-muted-foreground px-0",asChild:!0,children:(0,s.jsx)(c(),{href:"/forgot-password",children:r("loginForm.forgotPasswordLink")})})})]}),(0,s.jsxs)(x.wL,{className:"flex flex-col gap-4",children:[(0,s.jsxs)(p.$,{type:"submit",className:"w-full",disabled:n,children:[n&&(0,s.jsx)(y.A,{className:"mr-2 h-4 w-4 animate-spin"}),r("loginForm.submitButton")]}),(0,s.jsx)(p.$,{variant:"link",size:"sm",className:"text-sm",onClick:()=>e.push("/auth/register"),type:"button",children:r("loginForm.registerLink")})]})]})})]})}},38002:(e,t,r)=>{"use strict";r.d(t,{Fc:()=>d,TN:()=>c,XL:()=>l});var s=r(95155),a=r(12115),o=r(40652),i=r(21567);let n=(0,o.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"bg-destructive/10 border-destructive/50 text-destructive dark:bg-destructive/20 dark:border-destructive/60 dark:text-destructive-foreground [&>svg]:text-destructive dark:[&>svg]:text-destructive-foreground"}},defaultVariants:{variant:"default"}}),d=a.forwardRef((e,t)=>{let{className:r,variant:a,...o}=e;return(0,s.jsx)("div",{ref:t,role:"alert",className:(0,i.cn)(n({variant:a}),r),...o})});d.displayName="Alert";let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("h5",{ref:t,className:(0,i.cn)("mb-1 font-medium leading-none tracking-tight",r),...a})});l.displayName="AlertTitle";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("text-sm [&_p]:leading-relaxed",r),...a})});c.displayName="AlertDescription"},73312:(e,t,r)=>{"use strict";r.d(t,{$:()=>l,r:()=>d});var s=r(95155),a=r(12115),o=r(12317),i=r(40652),n=r(21567);let d=(0,i.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=a.forwardRef((e,t)=>{let{className:r,variant:a,size:i,asChild:l=!1,...c}=e,u=l?o.DX:"button";return(0,s.jsx)(u,{className:(0,n.cn)(d({variant:a,size:i,className:r})),ref:t,...c})});l.displayName="Button"},22130:(e,t,r)=>{"use strict";r.d(t,{BT:()=>l,Wu:()=>c,ZB:()=>d,Zp:()=>i,aR:()=>n,wL:()=>u});var s=r(95155),a=r(12115),o=r(21567);let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,o.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});i.displayName="Card";let n=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",r),...a})});n.displayName="CardHeader";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("h3",{ref:t,className:(0,o.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})});d.displayName="CardTitle";let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("p",{ref:t,className:(0,o.cn)("text-sm text-muted-foreground",r),...a})});l.displayName="CardDescription";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,o.cn)("p-6 pt-0",r),...a})});c.displayName="CardContent";let u=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,o.cn)("flex items-center p-6 pt-0",r),...a})});u.displayName="CardFooter"},44870:(e,t,r)=>{"use strict";r.d(t,{C5:()=>v,MJ:()=>x,eI:()=>p,lR:()=>g,lV:()=>l,zB:()=>u});var s=r(95155),a=r(12115),o=r(12317),i=r(69606),n=r(21567),d=r(98986);let l=i.Op,c=a.createContext({}),u=e=>{let{...t}=e;return(0,s.jsx)(c.Provider,{value:{name:t.name},children:(0,s.jsx)(i.xI,{...t})})},f=()=>{let e=a.useContext(c),t=a.useContext(m),{getFieldState:r,formState:s}=(0,i.xW)(),o=r(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:n}=t;return{id:n,name:e.name,formItemId:"".concat(n,"-form-item"),formDescriptionId:"".concat(n,"-form-item-description"),formMessageId:"".concat(n,"-form-item-message"),...o}},m=a.createContext({}),p=a.forwardRef((e,t)=>{let{className:r,...o}=e,i=a.useId();return(0,s.jsx)(m.Provider,{value:{id:i},children:(0,s.jsx)("div",{ref:t,className:(0,n.cn)("space-y-2",r),...o})})});p.displayName="FormItem";let g=a.forwardRef((e,t)=>{let{className:r,...a}=e,{error:o,formItemId:i}=f();return(0,s.jsx)(d.J,{ref:t,className:(0,n.cn)(o&&"text-destructive",r),htmlFor:i,...a})});g.displayName="FormLabel";let x=a.forwardRef((e,t)=>{let{...r}=e,{error:a,formItemId:i,formDescriptionId:n,formMessageId:d}=f();return(0,s.jsx)(o.DX,{ref:t,id:i,"aria-describedby":a?"".concat(n," ").concat(d):"".concat(n),"aria-invalid":!!a,...r})});x.displayName="FormControl",a.forwardRef((e,t)=>{let{className:r,...a}=e,{formDescriptionId:o}=f();return(0,s.jsx)("p",{ref:t,id:o,className:(0,n.cn)("text-sm text-muted-foreground",r),...a})}).displayName="FormDescription";let v=a.forwardRef((e,t)=>{var r;let{className:a,children:o,...i}=e,{error:d,formMessageId:l}=f(),c=d?String(null!==(r=null==d?void 0:d.message)&&void 0!==r?r:""):o;return c?(0,s.jsx)("p",{ref:t,id:l,className:(0,n.cn)("text-sm font-medium text-destructive",a),...i,children:c}):null});v.displayName="FormMessage"},33900:(e,t,r)=>{"use strict";r.d(t,{p:()=>i});var s=r(95155),a=r(12115),o=r(21567);let i=a.forwardRef((e,t)=>{let{className:r,type:a,...i}=e;return(0,s.jsx)("input",{type:a,className:(0,o.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...i})});i.displayName="Input"},98986:(e,t,r)=>{"use strict";r.d(t,{J:()=>l});var s=r(95155),a=r(12115),o=r(46195),i=r(40652),n=r(21567);let d=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(o.b,{ref:t,className:(0,n.cn)(d(),r),...a})});l.displayName=o.b.displayName},82133:(e,t,r)=>{"use strict";r.d(t,{Qg:()=>m,Sb:()=>g,US:()=>c,aD:()=>x,eC:()=>p,tE:()=>l,y8:()=>f});var s=r(95155),a=r(12115),o=r(9930),i=r(40652),n=r(40767),d=r(21567);let l=o.Kq,c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(o.LM,{ref:t,className:(0,d.cn)("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",r),...a})});c.displayName=o.LM.displayName;let u=(0,i.F)("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground",success:"success group border-primary bg-primary text-primary-foreground"}},defaultVariants:{variant:"default"}}),f=a.forwardRef((e,t)=>{let{className:r,variant:a,...i}=e;return(0,s.jsx)(o.bL,{ref:t,className:(0,d.cn)(u({variant:a}),r),...i})});f.displayName=o.bL.displayName;let m=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(o.rc,{ref:t,className:(0,d.cn)("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive group-[.success]:border-primary-foreground/30 group-[.success]:hover:border-primary-foreground/40 group-[.success]:hover:bg-primary/90 group-[.success]:hover:text-primary-foreground group-[.success]:focus:ring-primary",r),...a})});m.displayName=o.rc.displayName;let p=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(o.bm,{ref:t,className:(0,d.cn)("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600 group-[.success]:text-primary-foreground/70 group-[.success]:hover:text-primary-foreground group-[.success]:focus:ring-primary-foreground/80",r),"toast-close":"",...a,children:(0,s.jsx)(n.A,{className:"h-4 w-4"})})});p.displayName=o.bm.displayName;let g=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(o.hE,{ref:t,className:(0,d.cn)("text-sm font-semibold",r),...a})});g.displayName=o.hE.displayName;let x=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(o.VY,{ref:t,className:(0,d.cn)("text-sm opacity-90",r),...a})});x.displayName=o.VY.displayName},65564:(e,t,r)=>{"use strict";r.d(t,{dj:()=>f});var s=r(12115);let a=0,o=new Map,i=e=>{if(o.has(e))return;let t=setTimeout(()=>{o.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);o.set(e,t)},n=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?i(r):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},d=[],l={toasts:[]};function c(e){l=n(l,e),d.forEach(e=>{e(l)})}function u(e){let{...t}=e,r=(a=(a+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>c({type:"DISMISS_TOAST",toastId:r});return c({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||s()}}}),{id:r,dismiss:s,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function f(){let[e,t]=s.useState(l);return s.useEffect(()=>(d.push(t),()=>{let e=d.indexOf(t);e>-1&&d.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},44595:(e,t,r)=>{"use strict";r.d(t,{db:()=>d,j2:()=>l});var s=r(49904),a=r(27058),o=r(14565),i=r(80333);let n=(0,s.Wp)({apiKey:"AIzaSyDlzvjx4xI5zdfR0ng5UuVptg4agk4-GV8",authDomain:"neuroradx-jovto.firebaseapp.com",projectId:"neuroradx-jovto",storageBucket:"neuroradx-jovto.firebasestorage.app",messagingSenderId:"930640165466",appId:"1:930640165466:web:1ee43d3bcb83c2e2297663"}),d=(0,a.aU)(n),l=(0,o.xI)(n);(0,i.c7)(n)}},e=>{var t=t=>e(e.s=t);e.O(0,[2992,5273,5520,5714,2252,8173,6308,248,6981,5512,8441,1517,7358],()=>t(45574)),_N_E=e.O()}]);