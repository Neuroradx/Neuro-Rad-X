(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4662],{88e3:(e,s,t)=>{Promise.resolve().then(t.bind(t,27488))},27488:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>X});var a=t(95155),r=t(12115),i=t(76046),l=t(14565),n=t(44595),c=t(27058),o=t(69606),d=t(85060),u=t(4563),m=t(67113),x=t(65512),g=t(65564),h=t(73312),f=t(22130),p=t(35055),j=t(33900),N=t(38002),v=t(37528),b=t(61594),w=t(68236),y=t(55491),P=t(14505),S=t(79928),D=t(22104),E=t(87725),T=t(81476),k=t(23950),C=t(23817),A=t(87081),L=t(69343),R=t(98986),B=t(38126);let z=u.Ik({confirmationText:u.Yj(),password:u.Yj().optional()});function U(e){let{isOpen:s,onOpenChange:t}=e,{t:c}=(0,x.B)(),u=(0,i.useRouter)(),{toast:m}=(0,g.dj)(),[f,p]=(0,r.useState)(null),[v,b]=(0,r.useState)(!1),[w,y]=(0,r.useState)(!1),[S,D]=(0,r.useState)(null),E=(0,o.mN)({resolver:(0,d.u)(z),defaultValues:{confirmationText:"",password:""}});(0,r.useEffect)(()=>{let e=(0,l.hg)(n.j2,e=>{p(e)});return()=>e()},[]),(0,r.useEffect)(()=>{s||(y(!1),D(null),E.reset())},[s,E]);let T=async e=>{if(!f){m({title:c("toast.errorTitle"),description:"User not found.",variant:"destructive"});return}let s=c("settingsPage.deleteAccountDialog.confirmKeyword",{defaultValue:"DELETE"}).toUpperCase();if(e.confirmationText.toUpperCase()!==s){E.setError("confirmationText",{type:"manual",message:c("toast.invalidConfirmationTextDescriptionDelete")});return}b(!0),D(null);try{if(w){if(!e.password||0===e.password.length){E.setError("password",{type:"manual",message:"Password is required for re-authentication."}),b(!1);return}if(!f.email){m({title:c("toast.errorTitle"),description:"User email not available for re-authentication.",variant:"destructive"}),b(!1);return}let s=l.IX.credential(f.email,e.password);await (0,l.kZ)(f,s),y(!1),E.setValue("password","")}let s=await (0,B.O)(f.uid,f.uid);if(s.success)m({title:c("toast.accountDeletedSuccessTitle"),description:c("toast.accountDeletedSuccessDescription"),variant:"success"}),await (0,l.CI)(n.j2),t(!1),u.push("/auth/login");else throw Error(s.message||c("toast.accountDeleteErrorTitle"))}catch(e){"auth/requires-recent-login"===e.code?(y(!0),D(c("toast.reauthNeededDescriptionDelete")),m({title:c("toast.reauthNeededTitle"),description:c("toast.reauthNeededDescriptionDelete"),variant:"destructive",duration:7e3})):"auth/wrong-password"===e.code||"auth/invalid-credential"===e.code?(D("Incorrect password. Please try again."),E.setError("password",{type:"manual",message:"Incorrect password."})):m({title:c("toast.accountDeleteErrorTitle"),description:c("toast.accountDeleteErrorDescription",{error:e.message}),variant:"destructive"})}finally{b(!1)}},C=c("settingsPage.deleteAccountDialog.confirmKeyword",{defaultValue:"DELETE"}),A=E.watch("confirmationText").toUpperCase()===C.toUpperCase(),U=!!E.watch("password")&&E.watch("password").length>0;return(0,a.jsx)(L.Lt,{open:s,onOpenChange:e=>{e||(y(!1),D(null),E.reset()),t(e)},children:(0,a.jsxs)(L.EO,{children:[(0,a.jsxs)(L.wd,{children:[(0,a.jsxs)(L.r7,{className:"flex items-center",children:[(0,a.jsx)(k.A,{className:"mr-2 h-6 w-6 text-destructive"}),c("settingsPage.deleteAccountDialog.title")]}),(0,a.jsxs)(L.$v,{children:[(0,a.jsx)("span",{className:"font-semibold text-destructive block",children:c("settingsPage.deleteAccountDialog.warning")}),(0,a.jsx)("span",{className:"mt-2 block",children:c("settingsPage.deleteAccountDialog.irreversible")})]})]}),(0,a.jsxs)("form",{onSubmit:E.handleSubmit(T),className:"space-y-4",children:[w&&(0,a.jsxs)(N.Fc,{variant:"destructive",className:"mt-4",children:[(0,a.jsx)(k.A,{className:"h-4 w-4"}),(0,a.jsx)(N.XL,{children:c("toast.reauthNeededTitle")}),(0,a.jsxs)(N.TN,{children:[S||c("toast.reauthNeededDescriptionDelete"),(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsx)(R.J,{htmlFor:"password-reauth",children:c("settingsPage.deleteAccountDialog.passwordLabel",{defaultValue:"Password"})}),(0,a.jsx)(j.p,{id:"password-reauth",type:"password",...E.register("password"),placeholder:c("settingsPage.deleteAccountDialog.passwordPlaceholder",{defaultValue:"Enter your password"}),className:"mt-1 bg-destructive-foreground/10 placeholder:text-destructive-foreground/50"}),E.formState.errors.password&&(0,a.jsx)("p",{className:"text-xs text-destructive-foreground mt-1",children:E.formState.errors.password.message})]})]})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(R.J,{htmlFor:"confirmationText",children:c("settingsPage.deleteAccountDialog.confirmLabel",{keyword:C})}),(0,a.jsx)(j.p,{id:"confirmationText",...E.register("confirmationText"),placeholder:C,className:E.formState.errors.confirmationText?"border-destructive focus-visible:ring-destructive":"",disabled:w&&!E.formState.errors.password&&!S}),E.formState.errors.confirmationText&&(0,a.jsx)("p",{className:"text-xs text-destructive",children:E.formState.errors.confirmationText.message})]}),(0,a.jsxs)(L.ck,{className:"mt-6",children:[(0,a.jsx)(L.Zr,{onClick:()=>{y(!1),D(null),t(!1),E.reset()},disabled:v,children:c("common.cancel")}),(0,a.jsxs)(h.$,{type:"submit",variant:"destructive",disabled:v||!w&&!A||w&&(!A||!U),children:[v&&(0,a.jsx)(P.A,{className:"mr-2 h-4 w-4 animate-spin"}),w?c("settingsPage.deleteAccountDialog.reauthenticateAndConfirmButton",{defaultValue:"Re-authenticate & Delete"}):c("settingsPage.deleteAccountDialog.confirmButton")]})]})]})]})})}var V=t(37671);let M=u.Ik({confirmationText:u.Yj()});function Z(e){let{isOpen:s,onOpenChange:t,currentUser:i}=e,{t:c}=(0,x.B)(),{toast:u}=(0,g.dj)(),[m,f]=(0,r.useState)(!1),[p,N]=(0,r.useState)(i),v=(0,o.mN)({resolver:(0,d.u)(M),defaultValues:{confirmationText:""}});(0,r.useEffect)(()=>{N(i)},[i]),(0,r.useEffect)(()=>{let e;return s?e=(0,l.hg)(n.j2,e=>{N(e)}):v.reset(),()=>{e&&e()}},[s,v]);let b=async e=>{f(!0);let s=n.j2.currentUser;if(!s||s.isAnonymous){u({title:c("toast.errorTitle"),description:c("toast.statsResetErrorUserNotAuth"),variant:"destructive"}),f(!1);return}let a=c("settingsPage.resetStatisticsDialog.confirmKeyword",{defaultValue:"RESET"}).toUpperCase();if(e.confirmationText.toUpperCase()!==a){v.setError("confirmationText",{type:"manual",message:c("toast.statsResetInvalidConfirmationDesc")}),f(!1);return}try{let e=await (0,V.A)(s.uid);e.success?(u({title:c("toast.statsResetSuccessTitle"),description:c("toast.statsResetSuccessDesc")+" Your progress page and dashboard will reflect these changes upon next load.",variant:"success",duration:7e3}),t(!1)):u({title:c("toast.statsResetErrorTitle"),description:c("toast.statsResetErrorDesc",{error:e.message||"Unknown error"}),variant:"destructive"})}catch(e){u({title:c("toast.statsResetErrorTitle"),description:c("toast.statsResetErrorDesc",{error:e.message||"An unexpected error occurred."}),variant:"destructive"})}finally{f(!1)}},w=c("settingsPage.resetStatisticsDialog.confirmKeyword",{defaultValue:"RESET"}),y=v.watch("confirmationText").toUpperCase()===w.toUpperCase();return(0,a.jsx)(L.Lt,{open:s,onOpenChange:t,children:(0,a.jsxs)(L.EO,{children:[(0,a.jsxs)(L.wd,{children:[(0,a.jsxs)(L.r7,{className:"flex items-center",children:[(0,a.jsx)(k.A,{className:"mr-2 h-6 w-6 text-orange-500 dark:text-orange-400"}),c("settingsPage.resetStatisticsDialog.title")]}),(0,a.jsxs)(L.$v,{children:[(0,a.jsx)("span",{className:"font-semibold text-orange-600 dark:text-orange-400 block",children:c("settingsPage.resetStatisticsDialog.warning")}),(0,a.jsx)("span",{className:"mt-2 block",children:c("settingsPage.resetStatisticsDialog.irreversible")})]})]}),(0,a.jsxs)("form",{onSubmit:v.handleSubmit(b),className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(R.J,{htmlFor:"resetConfirmationText",children:c("settingsPage.resetStatisticsDialog.confirmLabel",{keyword:w})}),(0,a.jsx)(j.p,{id:"resetConfirmationText",...v.register("confirmationText"),placeholder:c("settingsPage.resetStatisticsDialog.confirmPlaceholder",{defaultValue:w}),className:v.formState.errors.confirmationText?"border-destructive focus-visible:ring-destructive":""}),v.formState.errors.confirmationText&&(0,a.jsx)("p",{className:"text-xs text-destructive",children:v.formState.errors.confirmationText.message})]}),(0,a.jsxs)(L.ck,{className:"mt-6",children:[(0,a.jsx)(L.Zr,{onClick:()=>t(!1),disabled:m,children:c("common.cancel")}),(0,a.jsxs)(h.$,{type:"submit",variant:"destructive",className:"bg-orange-500 hover:bg-orange-600 dark:bg-orange-600 dark:hover:bg-orange-700 text-white",disabled:m||!y||!p||p.isAnonymous,children:[m&&(0,a.jsx)(P.A,{className:"mr-2 h-4 w-4 animate-spin"}),c("settingsPage.resetStatisticsDialog.confirmButton")]})]})]})]})})}var F=t(84740),I=t(44870),J=t(25121),O=t(12413),Y=t(21567);let q=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(O.bL,{className:(0,Y.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...r,ref:s,children:(0,a.jsx)(O.zi,{className:(0,Y.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});q.displayName=O.bL.displayName;let W=e=>u.Ik({firstName:u.Yj().min(2,{message:e("validation.firstNameMinLength")}).max(50),lastName:u.Yj().min(2,{message:e("validation.lastNameMinLength")}).max(50),country:u.Yj().optional(),institution:u.Yj().optional(),userDeclaredSpecialization:u.Yj().optional(),profession:u.Yj().optional()}),$=["neuroradiologist","radiologist","neurologist","neurosurgeon","other"],_=["subspecialist","fellow","specialist","resident","student"];function X(){let{t:e}=(0,x.B)(),s=(0,i.useRouter)(),[t,o]=(0,r.useState)(null),[d,u]=(0,r.useState)(null),[m,g]=(0,r.useState)(!0),[h,f]=(0,r.useState)(null);return((0,r.useEffect)(()=>{let t=(0,l.hg)(n.j2,async t=>{if(t){o(t);try{let s=(0,c.H9)(n.db,"users",t.uid),a=await (0,c.x7)(s);a.exists()?u(a.data()):f(e("auth.profileFetchErrorDescription"))}catch(s){f(s.message||e("auth.profileFetchErrorDescription"))}finally{g(!1)}}else s.push("/auth/login")});return()=>t()},[s,e]),m)?(0,a.jsx)(Q,{}):h?(0,a.jsx)("div",{className:"container mx-auto py-8",children:(0,a.jsxs)(N.Fc,{variant:"destructive",children:[(0,a.jsx)(b.A,{className:"h-4 w-4"}),(0,a.jsx)(N.XL,{children:e("common.errorTitle")}),(0,a.jsx)(N.TN,{children:h})]})}):t&&d?t.isAnonymous?(0,a.jsx)("div",{className:"container mx-auto py-8",children:(0,a.jsxs)(N.Fc,{children:[(0,a.jsx)(b.A,{className:"h-4 w-4"}),(0,a.jsx)(N.XL,{children:e("auth.loginRequiredTitle")}),(0,a.jsx)(N.TN,{children:e("auth.pleaseLogInSettings")})]})}):(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(w.A,{className:"h-8 w-8 text-primary"}),(0,a.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:e("settingsPage.title")})]}),(0,a.jsx)("p",{className:"text-muted-foreground",children:e("settingsPage.description")}),(0,a.jsx)(K,{currentUser:t,userProfile:d}),(0,a.jsx)(H,{}),(0,a.jsx)(G,{userProfile:d,currentUser:t})]}):(0,a.jsx)(Q,{})}function K(e){let{currentUser:s,userProfile:t}=e,{t:i}=(0,x.B)(),{toast:u}=(0,g.dj)(),[m,b]=(0,r.useState)(!1),w=(0,r.useMemo)(()=>W(i),[i]),S=(0,o.mN)({resolver:(0,d.u)(w),defaultValues:{firstName:t.firstName||"",lastName:t.lastName||"",country:t.country||"",institution:t.institution||"",userDeclaredSpecialization:t.userDeclaredSpecialization||"",profession:t.profession||""}}),D=async e=>{b(!0);try{let t=(0,c.H9)(n.db,"users",s.uid),a="".concat(e.firstName," ").concat(e.lastName).trim(),r={firstName:e.firstName,lastName:e.lastName,displayName:a,country:e.country,institution:e.institution,userDeclaredSpecialization:e.userDeclaredSpecialization,profession:e.profession};await (0,c.mZ)(t,r),s.displayName!==a&&await (0,l.r7)(s,{displayName:a}),u({title:i("toast.profileSavedSuccessTitle"),description:i("toast.profileSavedSuccessDescription"),variant:"success"})}catch(e){u({title:i("toast.saveFailedTitle"),description:e.message||i("toast.saveFailedDesc"),variant:"destructive"})}finally{b(!1)}};return(0,a.jsxs)(f.Zp,{children:[(0,a.jsxs)(f.aR,{children:[(0,a.jsx)(f.ZB,{children:i("settingsPage.profileInfo")}),(0,a.jsx)(f.BT,{children:i("settingsPage.profileInfoDesc")})]}),(0,a.jsx)(I.lV,{...S,children:(0,a.jsxs)("form",{onSubmit:S.handleSubmit(D),children:[(0,a.jsxs)(f.Wu,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)(p.eu,{className:"h-16 w-16 border",children:[(0,a.jsx)(p.BK,{src:s.photoURL||void 0,alt:s.displayName||"User Avatar","data-ai-hint":"profile large"}),(0,a.jsx)(p.q5,{children:((e,s)=>{if(e){var t,r;let s=e.trim().split(/\s+/),a=(((null===(t=s[0])||void 0===t?void 0:t[0])||"")+(s.length>1&&(null===(r=s[s.length-1])||void 0===r?void 0:r[0])||"")).toUpperCase();if(a)return a}return s?s[0].toUpperCase():(0,a.jsx)(y.A,{className:"h-5 w-5"})})(s.displayName,s.email)})]}),(0,a.jsxs)("div",{className:"grid gap-1.5",children:[(0,a.jsx)("p",{className:"text-lg font-semibold",children:s.displayName}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:s.email})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsx)(I.zB,{control:S.control,name:"firstName",render:e=>{let{field:s}=e;return(0,a.jsxs)(I.eI,{children:[(0,a.jsx)(I.lR,{children:i("settingsPage.firstNameLabel")}),(0,a.jsx)(I.MJ,{children:(0,a.jsx)(j.p,{placeholder:i("settingsPage.firstNamePlaceholder"),...s})}),(0,a.jsx)(I.C5,{})]})}}),(0,a.jsx)(I.zB,{control:S.control,name:"lastName",render:e=>{let{field:s}=e;return(0,a.jsxs)(I.eI,{children:[(0,a.jsx)(I.lR,{children:i("settingsPage.lastNameLabel")}),(0,a.jsx)(I.MJ,{children:(0,a.jsx)(j.p,{placeholder:i("settingsPage.lastNamePlaceholder"),...s})}),(0,a.jsx)(I.C5,{})]})}}),(0,a.jsx)(I.zB,{control:S.control,name:"country",render:e=>{let{field:s}=e;return(0,a.jsxs)(I.eI,{children:[(0,a.jsx)(I.lR,{children:i("settingsPage.countryLabel")}),(0,a.jsxs)(v.l6,{onValueChange:s.onChange,defaultValue:s.value,children:[(0,a.jsx)(I.MJ,{children:(0,a.jsx)(v.bq,{children:(0,a.jsx)(v.yv,{placeholder:i("settingsPage.countrySelectPlaceholder")})})}),(0,a.jsx)(v.gC,{children:F.Y.map(e=>(0,a.jsx)(v.eb,{value:e.name,children:e.name},e.code))})]}),(0,a.jsx)(I.C5,{})]})}}),(0,a.jsx)(I.zB,{control:S.control,name:"institution",render:e=>{let{field:s}=e;return(0,a.jsxs)(I.eI,{children:[(0,a.jsx)(I.lR,{children:i("settingsPage.institutionLabel")}),(0,a.jsx)(I.MJ,{children:(0,a.jsx)(j.p,{placeholder:i("settingsPage.institutionPlaceholder"),...s})}),(0,a.jsx)(I.C5,{})]})}}),(0,a.jsx)(I.zB,{control:S.control,name:"profession",render:e=>{let{field:s}=e;return(0,a.jsxs)(I.eI,{children:[(0,a.jsx)(I.lR,{children:i("settingsPage.professionLabel")}),(0,a.jsxs)(v.l6,{onValueChange:s.onChange,defaultValue:s.value,children:[(0,a.jsx)(I.MJ,{children:(0,a.jsx)(v.bq,{children:(0,a.jsx)(v.yv,{placeholder:i("settingsPage.selectProfessionPlaceholder")})})}),(0,a.jsx)(v.gC,{children:$.map(e=>(0,a.jsx)(v.eb,{value:e,children:i("settingsPage.professions.".concat(e))},e))})]}),(0,a.jsx)(I.C5,{})]})}}),(0,a.jsx)(I.zB,{control:S.control,name:"userDeclaredSpecialization",render:e=>{let{field:s}=e;return(0,a.jsxs)(I.eI,{children:[(0,a.jsx)(I.lR,{children:i("settingsPage.specializationLevelLabel")}),(0,a.jsxs)(v.l6,{onValueChange:s.onChange,defaultValue:s.value,children:[(0,a.jsx)(I.MJ,{children:(0,a.jsx)(v.bq,{children:(0,a.jsx)(v.yv,{placeholder:i("settingsPage.selectSpecializationPlaceholder")})})}),(0,a.jsx)(v.gC,{children:_.map(e=>(0,a.jsx)(v.eb,{value:e,children:i("settingsPage.specializationLevels.".concat(e))},e))})]}),(0,a.jsx)(I.C5,{})]})}})]}),t.role&&"user"!==t.role&&(0,a.jsxs)(N.Fc,{children:[(0,a.jsx)(N.XL,{children:i("settingsPage.roleLabel")}),(0,a.jsx)(N.TN,{children:i("settingsPage.roleManagedByAdmin")})]})]}),(0,a.jsx)(f.wL,{children:(0,a.jsxs)(h.$,{type:"submit",disabled:m,children:[m&&(0,a.jsx)(P.A,{className:"mr-2 h-4 w-4 animate-spin"}),i("settingsPage.saveProfile")]})})]})})]})}function H(){let{t:e,language:s,setLanguage:t,setTextSize:r,textSize:i}=(0,x.B)(),{theme:l,setTheme:n}=(0,m.D)(),c=[{value:"small",label:e("settingsPage.textSizes.small")},{value:"medium",label:e("settingsPage.textSizes.medium")},{value:"large",label:e("settingsPage.textSizes.large")}];return(0,a.jsxs)(f.Zp,{children:[(0,a.jsxs)(f.aR,{children:[(0,a.jsxs)(f.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(S.A,{className:"h-5 w-5"}),e("settingsPage.appearance")]}),(0,a.jsx)(f.BT,{children:e("settingsPage.appearanceDesc")})]}),(0,a.jsxs)(f.Wu,{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:["dark"===l?(0,a.jsx)(D.A,{className:"h-5 w-5 text-muted-foreground"}):(0,a.jsx)(E.A,{className:"h-5 w-5 text-muted-foreground"}),(0,a.jsx)(R.J,{htmlFor:"dark-mode-switch",children:e("settingsPage.darkMode")})]}),(0,a.jsx)(q,{id:"dark-mode-switch",checked:"dark"===l,onCheckedChange:e=>{n(e?"dark":"light")}})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(R.J,{children:e("settingsPage.textSize")}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:e("settingsPage.textSizeDesc")})]}),(0,a.jsxs)(v.l6,{value:i,onValueChange:e=>r(e),children:[(0,a.jsx)(v.bq,{className:"w-[180px]",children:(0,a.jsx)(v.yv,{placeholder:"Select size"})}),(0,a.jsx)(v.gC,{children:c.map(e=>(0,a.jsx)(v.eb,{value:e.value,children:e.label},e.value))})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(R.J,{children:e("settingsPage.language")}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:e("settingsPage.selectLanguage")})]}),(0,a.jsxs)(v.l6,{value:s,onValueChange:e=>t(e),children:[(0,a.jsx)(v.bq,{className:"w-[180px]",children:(0,a.jsx)(v.yv,{placeholder:"Select language"})}),(0,a.jsx)(v.gC,{children:[{value:"en",label:"English"},{value:"de",label:"Deutsch"},{value:"es",label:"Espa\xf1ol"}].map(e=>(0,a.jsx)(v.eb,{value:e.value,children:e.label},e.value))})]})]})]})]})}function G(e){let{userProfile:s,currentUser:t}=e,{t:i}=(0,x.B)(),[l,n]=(0,r.useState)(!1),[c,o]=(0,r.useState)(!1),d=(null==s?void 0:s.subscriptionLevel)==="Trial";return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(f.Zp,{children:[(0,a.jsxs)(f.aR,{children:[(0,a.jsx)(f.ZB,{children:i("settingsPage.subscription")}),(0,a.jsx)(f.BT,{children:i("settingsPage.subscriptionDesc")})]}),(0,a.jsx)(f.Wu,{children:(0,a.jsxs)("p",{children:[i("settingsPage.currentPlanLabel")," ",(0,a.jsx)(J.E,{variant:"secondary",className:"capitalize",children:i("settingsPage.plans.".concat((s.subscriptionLevel||"free").toLowerCase()))})]})})]}),(0,a.jsxs)(f.Zp,{children:[(0,a.jsxs)(f.aR,{children:[(0,a.jsxs)(f.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(T.A,{className:"h-5 w-5"}),i("settingsPage.dataManagement.title")]}),(0,a.jsx)(f.BT,{children:i("settingsPage.dataManagement.description")})]}),(0,a.jsx)(f.Wu,{children:(0,a.jsxs)(N.Fc,{variant:"default",className:"border-orange-400/80 bg-orange-500/10 dark:border-orange-500/60 dark:bg-orange-900/20",children:[(0,a.jsx)(k.A,{className:"h-4 w-4 text-orange-600 dark:text-orange-400"}),(0,a.jsx)(N.XL,{className:"text-orange-700 dark:text-orange-300 font-semibold",children:i("settingsPage.dataManagement.resetStatisticsSectionTitle")}),(0,a.jsxs)(N.TN,{className:"text-muted-foreground",children:[i("settingsPage.dataManagement.resetStatisticsWarning"),(0,a.jsx)(h.$,{variant:"outline",className:"mt-3 w-full sm:w-auto",onClick:()=>o(!0),disabled:d,children:i("settingsPage.dataManagement.resetStatisticsButton")}),d&&(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-2",children:i("settingsPage.dataManagement.disabledForTrial")})]})]})})]}),(0,a.jsxs)(f.Zp,{children:[(0,a.jsxs)(f.aR,{children:[(0,a.jsxs)(f.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(C.A,{className:"h-5 w-5"}),i("settingsPage.accountManagement.title")]}),(0,a.jsx)(f.BT,{children:i("settingsPage.accountManagement.description")})]}),(0,a.jsx)(f.Wu,{children:(0,a.jsxs)(N.Fc,{variant:"destructive",children:[(0,a.jsx)(k.A,{className:"h-4 w-4"}),(0,a.jsx)(N.XL,{className:"font-semibold",children:i("settingsPage.accountManagement.dangerZoneTitle")}),(0,a.jsxs)(N.TN,{children:[i("settingsPage.accountManagement.deleteAccountWarning"),(0,a.jsx)(h.$,{variant:"destructive",className:"mt-3 w-full sm:w-auto",onClick:()=>n(!0),children:i("settingsPage.accountManagement.deleteAccountButton")})]})]})})]}),(0,a.jsx)(U,{isOpen:l,onOpenChange:n}),(0,a.jsx)(Z,{isOpen:c,onOpenChange:o,currentUser:t})]})}let Q=()=>(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsx)(A.E,{className:"h-10 w-1/2"}),(0,a.jsx)(A.E,{className:"h-6 w-3/4"}),(0,a.jsxs)(f.Zp,{children:[(0,a.jsxs)(f.aR,{children:[(0,a.jsx)(A.E,{className:"h-6 w-1/3"}),(0,a.jsx)(A.E,{className:"h-4 w-2/3"})]}),(0,a.jsxs)(f.Wu,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(A.E,{className:"h-16 w-16 rounded-full"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(A.E,{className:"h-6 w-48"}),(0,a.jsx)(A.E,{className:"h-4 w-64"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsx)(A.E,{className:"h-16 w-full"}),(0,a.jsx)(A.E,{className:"h-16 w-full"}),(0,a.jsx)(A.E,{className:"h-16 w-full"}),(0,a.jsx)(A.E,{className:"h-16 w-full"})]})]}),(0,a.jsx)(f.wL,{children:(0,a.jsx)(A.E,{className:"h-10 w-32"})})]}),(0,a.jsx)(A.E,{className:"h-40 w-full"}),(0,a.jsx)(A.E,{className:"h-40 w-full"})]})},69343:(e,s,t)=>{"use strict";t.d(s,{$v:()=>h,EO:()=>u,Lt:()=>c,Rx:()=>f,Zr:()=>p,ck:()=>x,r7:()=>g,wd:()=>m});var a=t(95155),r=t(12115),i=t(83572),l=t(21567),n=t(73312);let c=i.bL;i.l9;let o=i.ZL,d=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(i.hJ,{className:(0,l.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r,ref:s})});d.displayName=i.hJ.displayName;let u=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsxs)(o,{children:[(0,a.jsx)(d,{}),(0,a.jsx)(i.UC,{ref:s,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r})]})});u.displayName=i.UC.displayName;let m=e=>{let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-2 text-center sm:text-left",s),...t})};m.displayName="AlertDialogHeader";let x=e=>{let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...t})};x.displayName="AlertDialogFooter";let g=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(i.hE,{ref:s,className:(0,l.cn)("text-lg font-semibold",t),...r})});g.displayName=i.hE.displayName;let h=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(i.VY,{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",t),...r})});h.displayName=i.VY.displayName;let f=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(i.rc,{ref:s,className:(0,l.cn)((0,n.r)(),t),...r})});f.displayName=i.rc.displayName;let p=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(i.ZD,{ref:s,className:(0,l.cn)((0,n.r)({variant:"outline"}),"mt-2 sm:mt-0",t),...r})});p.displayName=i.ZD.displayName},35055:(e,s,t)=>{"use strict";t.d(s,{BK:()=>c,eu:()=>n,q5:()=>o});var a=t(95155),r=t(12115),i=t(74920),l=t(21567);let n=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(i.bL,{ref:s,className:(0,l.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...r})});n.displayName=i.bL.displayName;let c=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(i._V,{ref:s,className:(0,l.cn)("aspect-square h-full w-full",t),...r})});c.displayName=i._V.displayName;let o=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(i.H4,{ref:s,className:(0,l.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...r})});o.displayName=i.H4.displayName},25121:(e,s,t)=>{"use strict";t.d(s,{E:()=>n});var a=t(95155);t(12115);var r=t(40652),i=t(21567);let l=(0,r.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n(e){let{className:s,variant:t,...r}=e;return(0,a.jsx)("div",{className:(0,i.cn)(l({variant:t}),s),...r})}},87081:(e,s,t)=>{"use strict";t.d(s,{E:()=>i});var a=t(95155),r=t(21567);function i(e){let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,r.cn)("animate-pulse rounded-md bg-muted",s),...t})}},38126:(e,s,t)=>{"use strict";t.d(s,{O:()=>r});var a=t(75828);let r=(0,a.createServerReference)("605640131c1e70b03776a5c4d4bca78f1ae1428bf2",a.callServer,void 0,a.findSourceMapURL,"deleteUserAndTheirData")},37671:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});var a=t(75828);let r=(0,a.createServerReference)("60fa2d4f984e917a5ab87be071b7061e77402c4de8",a.callServer,void 0,a.findSourceMapURL,"resetUserStatistics")}},e=>{var s=s=>e(e.s=s);e.O(0,[2992,5273,5520,5714,2252,4285,2950,6217,6308,3480,4865,5512,5297,8441,1517,7358],()=>s(88e3)),_N_E=e.O()}]);