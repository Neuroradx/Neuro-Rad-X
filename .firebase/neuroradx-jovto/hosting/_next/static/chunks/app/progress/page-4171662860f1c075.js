(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9316],{23922:(e,t,a)=>{Promise.resolve().then(a.bind(a,58437))},58437:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>ed});var s=a(95155),r=a(12115),o=a(68685),l=a(73239),n=a(23888),i=a(75340),c=a(14505),d=a(61594),m=a(86878),u=a(17819),p=a(67072),g=a(59676),h=a(66261),x=a(22130),f=a(85572),y=a(45735),b=a(15255),v=a(12800),j=a(66963),N=a(71214),w=a(85608),k=a(681),P=a(82345),C=a(30541),A=a(29130),S=a(38002),D=a(73312),M=a(48173),z=a.n(M),O=a(44595),_=a(27058),I=a(14565),G=a(65512),R=a(51923),T=a(59173),L=a(21567),q=a(13431),E=a(32423),F=a(93518),B=a(46967),Q=a(70450);function W(e){let{className:t,classNames:a,showOutsideDays:r=!0,...o}=e;return(0,s.jsx)(Q.h,{showOutsideDays:r,className:(0,L.cn)("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",month_caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",button_previous:(0,L.cn)((0,D.r)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100 absolute left-1"),button_next:(0,L.cn)((0,D.r)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100 absolute right-1"),month_grid:"w-full border-collapse space-y-1",weekdays:"grid grid-cols-7 w-full",weekday:"text-muted-foreground rounded-md font-normal text-[0.8rem] text-center w-full",week:"grid grid-cols-7 w-full mt-2",day:"h-9 w-full text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day_button:(0,L.cn)((0,D.r)({variant:"ghost"}),"h-9 w-full p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...a},components:{Chevron:e=>{let{orientation:t,...a}=e,r="left"===t?F.A:B.A;return(0,s.jsx)(r,{className:"h-4 w-4",...a})}},...o})}W.displayName="Calendar";var Z=a(80532);let V=Z.bL,K=Z.l9,$=r.forwardRef((e,t)=>{let{className:a,align:r="center",sideOffset:o=4,...l}=e;return(0,s.jsx)(Z.ZL,{children:(0,s.jsx)(Z.UC,{ref:t,align:r,sideOffset:o,className:(0,L.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...l})})});function H(e){let{className:t,date:a,onDateChange:o,disabled:l}=e,[n,i]=r.useState(!1);return(0,s.jsx)("div",{className:(0,L.cn)("grid gap-2",t),children:(0,s.jsxs)(V,{open:n,onOpenChange:i,children:[(0,s.jsx)(K,{asChild:!0,children:(0,s.jsxs)(D.$,{id:"date",variant:"outline",size:"sm",disabled:l,className:(0,L.cn)("w-full justify-start text-left font-normal",!a&&"text-muted-foreground"),children:[(0,s.jsx)(E.A,{className:"mr-2 h-4 w-4"}),(null==a?void 0:a.from)?a.to?(0,s.jsxs)(s.Fragment,{children:[(0,q.GP)(a.from,"LLL dd, y")," -"," ",(0,q.GP)(a.to,"LLL dd, y")]}):(0,q.GP)(a.from,"LLL dd, y"):(0,s.jsx)("span",{children:"Pick a date range"})]})}),(0,s.jsx)($,{className:"w-auto p-0",align:"end",children:(0,s.jsx)(W,{initialFocus:!0,mode:"range",defaultMonth:null==a?void 0:a.from,selected:a,onSelect:e=>{o(e),(null==e?void 0:e.from)&&(null==e?void 0:e.to)&&i(!1)},numberOfMonths:2,disabled:l})})]})})}$.displayName=Z.UC.displayName;var J=a(94600),X=a(19947),U=a(59420),Y=a(15367),ee=a(9391),et=a(23361),ea=a(96843),es=a(88215),er=a(60532),eo=a(71670);let el={es:ea.es,de:es.de,en:er.b},en={Head:["Anatomy","CranialNerves","GeneticDevMetabolic","InfectionandInflammation","NeurodegenDementiaDemyelinating","Neuroimaging","OrbitandEye","Other","Trauma","Tumors","Vascular"],Spine:["TreatmentManagement","AnatomyRegions","ImagingModalitiesFeatures","PathologiesConditions","NeoplasmsTumors","ClinicalPresentationSymptoms"],Neck:["OralOropharynx","NasalSinus","SenseHeadNeckReg","GlandLymphatic","Other"],General:["GenMuscStruct","HeadNeckCNS","TrunkAndViscera"]},ei=(e,t)=>{let a=t>0?Math.max(0,Math.min(100,e)):0,s="h-2 w-full rounded-full bg-muted overflow-hidden";return 0===t?{textColor:"text-muted-foreground",iconColor:"text-muted-foreground",progressValue:a,progressRootClass:"".concat(s," [&>*:first-child]:bg-muted-foreground/50"),IconComponent:o.A}:e>=80?{textColor:"text-green-600 dark:text-green-400",iconColor:"text-green-600 dark:text-green-400",progressValue:a,progressRootClass:"".concat(s," [&>*:first-child]:bg-green-500"),IconComponent:l.A}:e>=50?{textColor:"text-yellow-500 dark:text-yellow-400",iconColor:"text-yellow-500 dark:text-yellow-400",progressValue:a,progressRootClass:"".concat(s," [&>*:first-child]:bg-yellow-500"),IconComponent:n.A}:{textColor:"text-red-500 dark:text-red-400",iconColor:"text-red-500 dark:text-red-400",progressValue:a,progressRootClass:"".concat(s," [&>*:first-child]:bg-red-500"),IconComponent:i.A}},ec=e=>{let{active:t,payload:a,label:r}=e,{t:o}=(0,G.B)();if(t&&a&&a.length){var l,n,i,c,d,m;let e=null!==(c=null===(l=a.find(e=>"correct"===e.dataKey))||void 0===l?void 0:l.value)&&void 0!==c?c:0,t=null!==(d=null===(n=a.find(e=>"incorrect"===e.dataKey))||void 0===n?void 0:n.value)&&void 0!==d?d:0,u=null!==(m=null===(i=a.find(e=>"accuracy"===e.dataKey))||void 0===i?void 0:i.value)&&void 0!==m?m:0;return(0,s.jsxs)("div",{className:"p-2 bg-background border border-border rounded-md shadow-lg text-xs",children:[(0,s.jsx)("p",{className:"font-bold mb-1",children:r}),(0,s.jsxs)("p",{style:{color:"hsl(var(--chart-1))"},children:[o("progressPage.tooltip.correct"),": ",e]}),(0,s.jsxs)("p",{style:{color:"hsl(var(--chart-2))"},children:[o("progressPage.tooltip.incorrect"),": ",t]}),(0,s.jsxs)("p",{style:{color:"hsl(var(--chart-3))"},children:[o("progressPage.tooltip.accuracy"),": ",u.toFixed(0),"%"]})]})}return null};function ed(){let{t:e,language:t}=(0,G.B)(),[a,o]=(0,r.useState)(null),[l,i]=(0,r.useState)(!0),[M,E]=(0,r.useState)(null),[F,B]=(0,r.useState)([]),[Q,W]=(0,r.useState)(!0),[Z,V]=(0,r.useState)(null),[K,$]=(0,r.useState)([]),[ea,es]=(0,r.useState)("monthly"),[ed,em]=(0,r.useState)(void 0),[eu,ep]=(0,r.useState)({bestDayPerc:0,bestDayDate:"N/A",maxQsDay:0,maxQsDayDate:"N/A",overallAvgPerc:0,totalSessionsInRange:0}),[eg,eh]=(0,r.useState)("N/A"),[ex,ef]=(0,r.useState)({}),[ey,eb]=(0,r.useState)(!0),[ev,ej]=(0,r.useState)(null),[eN,ew]=(0,r.useState)({}),ek=el[t]||er.b;(0,r.useEffect)(()=>{em({from:(0,J.f)(new Date,-29),to:new Date});let e=(0,I.hg)(O.j2,async e=>{if(e){o(e);let a=(0,_.H9)(O.db,"users",e.uid),s=await (0,_.x7)(a);if(s.exists()){var t;E((null===(t=s.data())||void 0===t?void 0:t.role)||"user")}else E("user")}else o(null),E(null);i(!1)});return()=>e()},[]);let eP=(0,r.useCallback)(async t=>{W(!0),V(null);try{let e=(0,_.rJ)(O.db,"users",t,"quiz_sessions"),a=(0,_.P)(e,(0,_.My)("quizDate","asc")),s=await (0,_.GG)(a),r=[];s.forEach(e=>{let t=e.data();r.push({id:e.id,...t,quizDate:t.quizDate.toDate()})}),B(r)}catch(t){V(e("progressPage.errorFetchingOverall",{message:t.message}))}finally{W(!1)}},[e]),eC=(0,r.useCallback)(()=>{let t,a;if(0===F.length||!ed){$([]),eh(e("common.notAvailable"));return}let s=F.filter(e=>{if("total"===ea||!(null==ed?void 0:ed.from))return!0;let t=e.quizDate,a=ed.from,s=ed.to?(0,J.f)(ed.to,1):(0,J.f)(new Date,1);return t>=a&&t<s});if(0===s.length){$([]),eh(e("common.notAvailable"));return}let r={};"daily"===ea?(t=e=>(0,X.k)(e),a="MMM d, yyyy"):"weekly"===ea?(t=e=>(0,U.Y)(e,{weekStartsOn:1}),a="MMM d, yyyy"):"monthly"===ea?(t=e=>(0,Y.i)(e),a="MMM yyyy"):(t=e=>[e.start],a="yyyy");let o=s[0].quizDate;t({start:o,end:s[s.length-1].quizDate}).forEach(e=>{r[(0,q.GP)(e,a,{locale:ek})]={correct:0,incorrect:0,attempted:0,date:e,sessionsCount:0}}),s.forEach(t=>{let s;s="daily"===ea?(0,q.GP)(t.quizDate,a,{locale:ek}):"weekly"===ea?(0,q.GP)((0,ee.k)(t.quizDate,{weekStartsOn:1}),a,{locale:ek}):"monthly"===ea?(0,q.GP)((0,et.w)(t.quizDate),a,{locale:ek}):e("progressPage.buttons.total",{defaultValue:"All Time"}),"total"!==ea||r[s]||(r[s]={correct:0,incorrect:0,attempted:0,date:o,sessionsCount:0}),r[s]&&(r[s].correct+=t.correctAnswers||0,r[s].incorrect+=t.incorrectAnswers||0,r[s].attempted+=t.actualNumberOfQuestions||0,r[s].sessionsCount+=1)}),$(Object.entries(r).map(e=>{let[t,a]=e;return{periodLabel:t,correct:a.correct,incorrect:a.incorrect,attempted:a.attempted,accuracy:a.attempted>0?Math.round(a.correct/a.attempted*100):0,date:a.date}}).sort((e,t)=>e.date.getTime()-t.date.getTime()));let l=0,n=e("common.notAvailable"),i=0,c=e("common.notAvailable"),d=0,m=0,u={};s.forEach(e=>{let t=(0,q.GP)(e.quizDate,"yyyy-MM-dd");u[t]||(u[t]={correct:0,attempted:0,date:e.quizDate}),u[t].correct+=e.correctAnswers||0,u[t].attempted+=e.actualNumberOfQuestions||0,d+=e.correctAnswers||0,m+=e.actualNumberOfQuestions||0}),Object.values(u).forEach(e=>{let t=e.attempted>0?e.correct/e.attempted*100:0;t>l&&(l=t,n=(0,q.GP)(e.date,"MMM d, yyyy",{locale:ek})),e.attempted>i&&(i=e.attempted,c=(0,q.GP)(e.date,"MMM d, yyyy",{locale:ek}))}),ep({bestDayPerc:Math.round(l),bestDayDate:n,maxQsDay:i,maxQsDayDate:c,overallAvgPerc:m>0?Math.round(d/m*100):0,totalSessionsInRange:s.length})},[F,ea,ed,ek,e]),eA=(0,r.useCallback)((e,t)=>{let a={};for(let s in t){a[s]={correct:0,attempted:0,percentage:0,modules:{}};let r=0,o=0;for(let l in t[s]){a[s].modules[l]={correct:0,attempted:0,percentage:0};let n=t[s][l],i=0,c=0;for(let t of n)if(e.has(t)){let a=e.get(t),s=a.correctCount||0,r=s+(a.incorrectCount||0);r>0&&(i+=s,c+=r)}c>0&&(a[s].modules[l]={correct:i,attempted:c,percentage:Math.round(i/c*100)},r+=i,o+=c)}o>0&&(a[s].correct=r,a[s].attempted=o,a[s].percentage=Math.round(r/o*100))}ew(a)},[]),eS=(0,r.useCallback)(async t=>{eb(!0),ej(null);try{let e=(0,_.rJ)(O.db,"users",t,"userQuestions"),a=await (0,_.GG)(e),s=new Map;if(a.forEach(e=>{s.set(e.id,e.data())}),0===s.size){ef({}),ew({}),eb(!1);return}eA(s,eo);let r=[...s.keys()],o=new Map,l=[];for(let e=0;e<r.length;e+=30){let t=r.slice(e,e+Math.min(30,r.length-e));if(t.length>0){let e=(0,_.P)((0,_.rJ)(O.db,"questions"),(0,_._M)((0,_.Fs)(),"in",t));l.push((0,_.GG)(e).then(e=>{e.forEach(e=>{if(e.exists()){let t=e.data();o.set(e.id,{category:t.main_localization,subcategory:t.sub_main_location})}})}))}}await Promise.all(l);let n={};for(let e in s.forEach((e,t)=>{let a=o.get(t);if(!a)return;let s=a.category,r=a.subcategory||"N/A";n[s]||(n[s]={correct:0,attempted:0,percentage:0,subtopics:{}});let l=e.correctCount||0,i=e.incorrectCount||0,c=l+i;c>0&&(n[s].correct+=l,n[s].attempted+=c,n[s].subtopics[r]||(n[s].subtopics[r]={correct:0,attempted:0,percentage:0}),n[s].subtopics[r].correct+=l,n[s].subtopics[r].attempted+=c)}),n){let t=n[e];for(let e in t.percentage=t.attempted>0?Math.round(t.correct/t.attempted*100):0,t.subtopics){let a=t.subtopics[e];a.percentage=a.attempted>0?Math.round(a.correct/a.attempted*100):0}}ef(n)}catch(t){ej(e("progressPage.errorFetchingTopicDetails",{message:t.message}))}finally{eb(!1)}},[e,eA]);return((0,r.useEffect)(()=>{l||!a||a.isAnonymous||(eP(a.uid),eS(a.uid))},[l,a,eP,eS]),(0,r.useEffect)(()=>{eC()},[F,ea,ed,eC]),l||Q&&a&&!a.isAnonymous)?(0,s.jsxs)("div",{className:"container mx-auto py-8 text-center",children:[(0,s.jsx)(c.A,{className:"h-12 w-12 animate-spin text-primary mx-auto"}),(0,s.jsx)("p",{className:"text-muted-foreground mt-4",children:l?e("loading.auth"):e("loading.progress")})]}):!a||a.isAnonymous?(0,s.jsx)("div",{className:"container mx-auto py-8",children:(0,s.jsxs)(S.Fc,{variant:"default",className:"shadow",children:[(0,s.jsx)(d.A,{className:"h-4 w-4"}),(0,s.jsx)(S.XL,{children:e("auth.loginRequiredTitle")}),(0,s.jsxs)(S.TN,{children:[e("auth.loginRequiredMessageProgress")," ",(0,s.jsx)(D.$,{variant:"link",asChild:!0,className:"p-0 h-auto",children:(0,s.jsx)(z(),{href:"/auth/login",children:e("userNav.logIn")})})," ",e("auth.loginRequiredMessageProgressAfterLink")]})]})}):Z?(0,s.jsx)("div",{className:"container mx-auto py-8",children:(0,s.jsxs)(S.Fc,{variant:"destructive",children:[(0,s.jsx)(d.A,{className:"h-4 w-4"}),(0,s.jsx)(S.XL,{children:e("error.title")}),(0,s.jsx)(S.TN,{children:Z})]})}):(0,s.jsxs)("div",{className:"container mx-auto py-8",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsx)(m.A,{className:"h-8 w-8 text-primary"}),(0,s.jsx)("h1",{className:"text-3xl font-bold",children:e("progressPage.title")})]}),(0,s.jsx)("p",{className:"text-muted-foreground mb-8",children:e("progressPage.description")}),(0,s.jsxs)(x.Zp,{className:"shadow-lg mb-8",children:[(0,s.jsxs)(x.aR,{children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(x.ZB,{children:e("progressPage.performanceOverTime")}),(0,s.jsx)(x.BT,{children:e("progressPage.monthlyCorrectIncorrect")})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,s.jsx)(H,{date:ed,onDateChange:em,disabled:Q}),(0,s.jsxs)("div",{className:"flex bg-muted p-1 rounded-md",children:[(0,s.jsx)(D.$,{size:"sm",variant:"daily"===ea?"default":"ghost",onClick:()=>es("daily"),disabled:Q,children:e("progressPage.buttons.daily")}),(0,s.jsx)(D.$,{size:"sm",variant:"weekly"===ea?"default":"ghost",onClick:()=>es("weekly"),disabled:Q,children:e("progressPage.buttons.weekly")}),(0,s.jsx)(D.$,{size:"sm",variant:"monthly"===ea?"default":"ghost",onClick:()=>es("monthly"),disabled:Q,children:e("progressPage.buttons.monthly")}),(0,s.jsx)(D.$,{size:"sm",variant:"total"===ea?"default":"ghost",onClick:()=>es("total"),disabled:Q,children:e("progressPage.buttons.total")})]})]})]}),(0,s.jsxs)("div",{className:"grid gap-2 sm:gap-4 md:grid-cols-2 lg:grid-cols-4 pt-4",children:[(0,s.jsx)(C.h,{title:e("progressPage.stats.bestDayPerc.title"),value:"".concat(eu.bestDayPerc,"%"),icon:u.A,description:eu.bestDayDate,className:"shadow-none border text-xs"}),(0,s.jsx)(C.h,{title:e("progressPage.stats.maxQsDay.title"),value:eu.maxQsDay.toString(),icon:p.A,description:eu.maxQsDayDate,className:"shadow-none border text-xs"}),(0,s.jsx)(C.h,{title:e("progressPage.stats.overallAvgPerc.title"),value:"".concat(eu.overallAvgPerc,"%"),icon:g.A,description:e("progressPage.stats.inSelectedRange"),className:"shadow-none border text-xs"}),(0,s.jsx)(C.h,{title:e("progressPage.stats.totalSessionsInRange.title"),value:eu.totalSessionsInRange.toString(),icon:n.A,description:e("progressPage.stats.inSelectedRange"),className:"shadow-none border text-xs"})]})]}),(0,s.jsx)(x.Wu,{className:"h-[350px] w-full",children:Q?(0,s.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,s.jsx)(c.A,{className:"h-8 w-8 animate-spin text-primary"})}):K.length>0?(0,s.jsx)(f.u,{width:"100%",height:"100%",children:(0,s.jsxs)(y.X,{data:K,margin:{top:5,right:5,left:-25,bottom:5},children:[(0,s.jsx)(b.d,{strokeDasharray:"3 3",vertical:!1,stroke:"hsl(var(--border))"}),(0,s.jsx)(v.W,{dataKey:"periodLabel",tick:{fontSize:10},stroke:"hsl(var(--muted-foreground))"}),(0,s.jsx)(j.h,{yAxisId:"left",tickFormatter:e=>"".concat(e),tick:{fontSize:10},stroke:"hsl(var(--muted-foreground))"}),(0,s.jsx)(j.h,{yAxisId:"right",orientation:"right",tickFormatter:e=>"".concat(e,"%"),tick:{fontSize:10},stroke:"hsl(var(--muted-foreground))"}),(0,s.jsx)(N.m,{content:(0,s.jsx)(ec,{}),cursor:{fill:"hsl(var(--muted)/0.3)"}}),(0,s.jsx)(w.s,{wrapperStyle:{fontSize:"10px"}}),(0,s.jsx)(k.yP,{yAxisId:"left",dataKey:"correct",name:e("progressPage.chart.correct"),stackId:"a",fill:"hsl(var(--chart-1))",radius:[4,4,0,0],barSize:20}),(0,s.jsx)(k.yP,{yAxisId:"left",dataKey:"incorrect",name:e("progressPage.chart.incorrect"),stackId:"a",fill:"hsl(var(--chart-2))",radius:[4,4,0,0],barSize:20}),(0,s.jsx)(P.N1,{yAxisId:"right",type:"monotone",dataKey:"accuracy",name:e("progressPage.chart.accuracy"),stroke:"hsl(var(--chart-3))",strokeWidth:2,dot:{r:3,fill:"hsl(var(--chart-3))",strokeWidth:1,stroke:"hsl(var(--background))"},activeDot:{r:5,strokeWidth:1}})]})}):(0,s.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,s.jsx)("p",{className:"text-muted-foreground",children:e("progressPage.chart.noDataForPeriod")})})})]}),!ey&&(0,s.jsxs)(x.Zp,{className:"shadow-lg mb-8 border-red-100 dark:border-red-900/30",children:[(0,s.jsxs)(x.aR,{children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(h.A,{className:"h-5 w-5 text-red-500"}),(0,s.jsx)(x.ZB,{children:e("progressPage.weakestTopicsTitle",{defaultValue:"Opportunities for Improvement"})})]}),(0,s.jsx)(x.BT,{children:e("progressPage.weakestTopicsDescription",{defaultValue:"Top 3 categories where you can improve your accuracy."})})]}),(0,s.jsx)(x.Wu,{children:(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[Object.entries(ex).filter(e=>{let[t,a]=e;return a.attempted>0}).sort((e,t)=>e[1].percentage-t[1].percentage).slice(0,3).map(t=>{let[a,r]=t;return(0,s.jsxs)("div",{className:"p-4 rounded-lg bg-red-50/50 dark:bg-red-950/10 border border-red-100 dark:border-red-900/20",children:[(0,s.jsx)("p",{className:"text-sm font-semibold mb-1",children:"General"===a?e("studyMode.categoryOther"):e("topics.".concat(a.toLowerCase()))}),(0,s.jsxs)("div",{className:"flex items-end justify-between",children:[(0,s.jsxs)("span",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:[r.percentage,"%"]}),(0,s.jsxs)("span",{className:"text-xs text-muted-foreground",children:[r.correct,"/",r.attempted]})]}),(0,s.jsx)(T.k,{value:r.percentage,className:"h-1.5 mt-2 bg-red-100 dark:bg-red-900/20 [&>*:first-child]:bg-red-500"})]},a)}),0===Object.values(ex).filter(e=>e.attempted>0).length&&(0,s.jsx)("p",{className:"text-sm text-muted-foreground col-span-3 text-center py-4",children:e("progressPage.noDataForWeakest",{defaultValue:"Start practicing to see your improvement areas!"})})]})})]}),(0,s.jsxs)(x.Zp,{className:"shadow-lg mb-8",children:[(0,s.jsxs)(x.aR,{children:[(0,s.jsx)(x.ZB,{children:e("progressPage.topicBreakdownTitle")}),(0,s.jsx)(x.BT,{children:e("progressPage.topicBreakdownDescription")})]}),(0,s.jsx)(x.Wu,{children:ey||ev?(0,s.jsx)("div",{className:"flex justify-center items-center py-10",children:(0,s.jsx)(c.A,{className:"h-8 w-8 animate-spin text-primary"})}):(0,s.jsx)(A.nD,{type:"multiple",className:"w-full",children:Object.entries(en).map(t=>{var a,r;let[o,l]=t,n="General"===o?e("studyMode.categoryOther"):e("topics.".concat(o.toLowerCase())),i=ex[o],c=ei(null!==(a=null==i?void 0:i.percentage)&&void 0!==a?a:0,null!==(r=null==i?void 0:i.attempted)&&void 0!==r?r:0),d=l.map(t=>({key:t,displayName:e(R.dr[t]||"subtopics.".concat(t.toLowerCase()),{defaultValue:t})})).sort((e,t)=>e.displayName.localeCompare(t.displayName));return(0,s.jsxs)(A.As,{value:o,children:[(0,s.jsx)(A.$m,{className:"text-lg font-semibold hover:no-underline py-4",children:(0,s.jsxs)("div",{className:"flex justify-between w-full items-center pr-2",children:[(0,s.jsx)("span",{className:"text-xl",children:n}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm font-normal ml-auto mr-2",children:[(0,s.jsx)(c.IconComponent,{className:(0,L.cn)("h-5 w-5",c.iconColor)}),i&&i.attempted>0?(0,s.jsx)("span",{className:c.textColor,children:e("progressPage.overallCategoryPerformance",{percentage:i.percentage.toString(),correct:i.correct.toString(),attempted:i.attempted.toString()})}):(0,s.jsx)("span",{className:c.textColor,children:e("progressPage.noAttemptsCategory")})]})]})}),(0,s.jsx)(A.ub,{className:"pl-2 pr-1",children:(0,s.jsx)("ul",{className:"list-none space-y-3",children:d.map(t=>{var a,r;let{key:o,displayName:l}=t,n=null==i?void 0:i.subtopics[o],c=ei(null!==(a=null==n?void 0:n.percentage)&&void 0!==a?a:0,null!==(r=null==n?void 0:n.attempted)&&void 0!==r?r:0);return(0,s.jsxs)("li",{className:"p-3 hover:bg-muted/20 dark:hover:bg-muted/10 rounded-md transition-colors",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(c.IconComponent,{className:(0,L.cn)("h-4 w-4 flex-shrink-0",c.iconColor)}),(0,s.jsx)("span",{className:"text-md font-medium text-foreground",children:l})]}),(0,s.jsx)("span",{className:(0,L.cn)("text-xs font-medium",c.textColor),children:n&&n.attempted>0?e("progressPage.performanceLabel",{percentage:n.percentage.toString(),correct:n.correct.toString(),attempted:n.attempted.toString()}):e("progressPage.noAttemptsSubtopic")})]}),(0,s.jsx)(T.k,{value:c.progressValue,className:(0,L.cn)("h-2",c.progressRootClass)})]},o)})})})]},o)})})})]})]})}},30541:(e,t,a)=>{"use strict";a.d(t,{h:()=>o});var s=a(95155),r=a(22130);function o(e){let{title:t,value:a,icon:o,description:l,className:n}=e;return(0,s.jsxs)(r.Zp,{className:n,children:[(0,s.jsxs)(r.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(r.ZB,{className:"text-sm font-medium",children:t}),(0,s.jsx)(o,{className:"h-5 w-5 text-muted-foreground"})]}),(0,s.jsxs)(r.Wu,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:a}),l&&(0,s.jsx)("p",{className:"text-xs text-muted-foreground pt-1",children:l})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[2992,5273,5520,5714,2252,8173,4285,2950,3431,9261,952,585,5512,3922,8441,1517,7358],()=>t(23922)),_N_E=e.O()}]);